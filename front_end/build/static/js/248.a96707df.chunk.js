"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[248],{816:function(e,n,t){t.d(n,{U:function(){return u}});var i=t(9439),a=t(2791),r=t(4267),s=t(184),u=function(e){var n=e.id,t=e.center,u=void 0!==t&&t,l=e.onInput,o=e.errorText,c=(0,a.useState)(null),d=(0,i.Z)(c,2),p=d[0],f=d[1],v=(0,a.useState)(null),m=(0,i.Z)(v,2),h=m[0],x=m[1],E=(0,a.useState)(!0),I=(0,i.Z)(E,2),g=I[0],N=I[1],j=(0,a.useRef)(null);(0,a.useEffect)((function(){if(p){var e=new FileReader;e.onload=function(){x(e.result)},e.readAsDataURL(p)}}),[p]);return(0,s.jsxs)("div",{className:"form-control",children:[(0,s.jsx)("input",{id:n,ref:j,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){var t=null,i=g;e.target.files&&1===e.target.files.length?(t=e.target.files[0],f(t),N(!0),i=!0):(N(!1),i=!1),l(n,t,i)}}),(0,s.jsxs)("div",{className:"image-upload ".concat(u&&"center"),children:[(0,s.jsxs)("div",{className:"image-upload__preview",children:[h&&(0,s.jsx)("img",{src:h,alt:"Preview"}),!h&&(0,s.jsx)("p",{children:"Please pick an image."})]}),(0,s.jsx)(r.z,{type:"button",onClick:function(){j.current.click()},children:"PICK IMAGE"})]}),!g&&(0,s.jsx)("p",{children:o})]})}},8226:function(e,n,t){t.d(n,{I:function(){return l}});var i=t(9439),a=t(2791),r=t(5221),s=t(8749),u=t(184);function l(e){var n=e.id,t=e.label,l=e.element,o=e.type,c=e.placeHolder,d=e.rows,p=e.validators,f=e.errorText,v=e.onInput,m={value:e.initValue||"",isTouched:!1,isValid:e.initialIsValid||!1},h=(0,a.useReducer)(r.Bw,m),x=(0,i.Z)(h,2),E=x[0],I=x[1],g=E.value,N=E.isValid;(0,a.useEffect)((function(){v(n,g,N)}),[n,g,N,v]);var j=function(e){var n={val:e.target.value,type:s.hd.CHNAGE,validators:p};I(n)},T=function(){var e={val:E.value,type:s.hd.TOUCH,validators:p};I(e)},Z="input"===l?(0,u.jsx)("input",{id:n,type:o,placeholder:c,onChange:j,onBlur:T,value:E.value}):(0,u.jsx)("textarea",{id:n,rows:d||3,onChange:j,onBlur:T,value:E.value});return(0,u.jsxs)("div",{className:"form-control ".concat(!E.isValid&&E.isTouched&&"form-control--invalid"),children:[(0,u.jsx)("label",{htmlFor:n,children:t}),Z,!E.isValid&&E.isTouched&&(0,u.jsx)("p",{children:f})]})}},361:function(e,n,t){t.d(n,{Z:function(){return a}});t(2791);var i=t(184),a=function(e){var n=e.className,t=e.style,a=e.children;return(0,i.jsx)("div",{className:"card ".concat(n),style:t,children:a})}},4100:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var i=t(4165),a=t(5861),r=t(1413),s=t(9439),u=t(2791),l=t(4707),o=t(4795),c=t(5221),d=t(8749),p=t(7594),f=t(4267),v=t(8226),m=t(361),h=t(9805),x=t(5309),E=t(8618),I=t(816),g=t(184);var N=function(){var e=(0,u.useState)(!0),n=(0,s.Z)(e,2),t=n[0],N=n[1],j=(0,E.x)(),T=j.isLoading,Z=j.error,C=j.sendRequest,y=j.clearError,w=(0,u.useContext)(l.V),V=(0,o.c)({email:c.W0,password:c.W0},!1),b=(0,s.Z)(V,3),A=b[0],H=b[1],S=b[2],G=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var a,s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s={email:A.inputs.email.value,password:A.inputs.password.value},!t){e.next=15;break}return e.prev=3,e.next=6,C(p.Fo,"POST",JSON.stringify(s),p.QN);case 6:a=e.sent,console.log(a),w.login(a),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:e.next=30;break;case 15:return s=(0,r.Z)((0,r.Z)({},s),{},{name:A.inputs.name.value,image:A.inputs.image.value}),e.prev=16,(u=new FormData).append("email",s.email),u.append("name",s.name),u.append("password",s.password),u.append("image",s.image),e.next=24,C(p.P_,"POST",u);case 24:a=e.sent,w.login(a),e.next=30;break;case 28:e.prev=28,e.t1=e.catch(16);case 30:case"end":return e.stop()}}),e,null,[[3,11],[16,28]])})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsxs)(u.Fragment,{children:[(0,g.jsx)(x.C,{error:Z,onClear:y}),(0,g.jsxs)(m.Z,{className:"authentication",children:[(0,g.jsx)(g.Fragment,{children:T&&(0,g.jsx)(h.Z,{asOverlay:!0})}),(0,g.jsx)("h2",{children:"Login Required"}),(0,g.jsx)("hr",{}),(0,g.jsxs)("form",{onSubmit:G,children:[!t&&(0,g.jsx)(v.I,{element:"input",id:"name",type:"text",label:"Your Name",validators:[d.J7.REQUIRE],errorText:p.BH,onInput:H}),!t&&(0,g.jsx)(I.U,{center:!0,id:"image",onInput:H,errorText:p.fo}),(0,g.jsx)(v.I,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[d.J7.EMAIL],errorText:p.zi,onInput:H}),(0,g.jsx)(v.I,{element:"input",id:"password",type:"password",label:"Password",validators:[d.J7.MINLENGTH],errorText:p.ns,onInput:H}),(0,g.jsx)(f.z,{type:"submit",disabled:!A.isValid,children:t?"LOGIN":"SIGNUP"})]}),(0,g.jsx)(f.z,{inverse:!0,onClick:function(){t?S((0,r.Z)((0,r.Z)({},A.inputs),{},{name:c.W0,image:c.W0}),!1):(A.inputs.email=A.inputs.email,A.inputs.password=A.inputs.password,S((0,r.Z)((0,r.Z)({},A.inputs),{},{name:void 0,image:void 0}),A.inputs.email.isValid&&A.inputs.password.isValid)),N((function(e){return!e}))},children:"SWITCH TO ".concat(t?"SIGNUP":"LOGIN")})]})]})}},4795:function(e,n,t){t.d(n,{c:function(){return u}});var i=t(9439),a=t(2791),r=t(8749),s=t(5221),u=function(e,n){var t=(0,a.useReducer)(s.aB,{inputs:e,isValid:n}),u=(0,i.Z)(t,2),l=u[0],o=u[1];return[l,(0,a.useCallback)((function(e,n,t){var i={type:r.hd.CHNAGE,input:{value:n,isValid:t},inputId:e};o(i)}),[]),(0,a.useCallback)((function(e,n){var t={inputs:e,isValid:n},i={type:r.hd.SET,input:t};o(i)}),[])]}},5221:function(e,n,t){t.d(n,{aB:function(){return p},Bw:function(){return c},_9:function(){return d},W0:function(){return o}});var i=t(4942),a=t(1413),r=t(8749),s=t(7762),u=t(7594),l=function(e,n){var t,i=!0,a=(0,s.Z)(n);try{for(a.s();!(t=a.n()).done;){var l=t.value;l===r.J7.REQUIRE&&(i=i&&e.trim().length>0),l===r.J7.MINLENGTH&&(i=i&&e.trim().length>=u.bG),l===r.J7.MAXLENGTH&&(i=i&&e.trim().length<=u.Qt),l===r.J7.MIN&&(i=i&&+e>=u.KX),l===r.J7.MAX&&(i=i&&+e<=u.k2),l===r.J7.EMAIL&&(i=i&&/^\S+@\S+\.\S+$/.test(e)),l===r.J7.FILE&&(i=i&&!!e.name.match(/\.(jpg|jpeg|png|gif)$/))}}catch(o){a.e(o)}finally{a.f()}return i},o={value:"",isTouched:!1,isValid:!1},c=function(e,n){switch(n.type){case r.hd.CHNAGE:var t=n.val;return(0,a.Z)((0,a.Z)({},e),{},{value:t,isValid:l(t,n.validators)});case r.hd.TOUCH:return(0,a.Z)((0,a.Z)({},e),{},{isTouched:!0});default:return e}},d={inputs:{name:o,quantity:o,image:o},isValid:!1},p=function(e,n){switch(n.type){case r.hd.CHNAGE:n.input=n.input;var t=!0;for(var s in e.inputs)e.inputs[s]&&(t=s===n.inputId?t&&n.input.isValid:t&&e.inputs[s].isValid);return(0,a.Z)((0,a.Z)({},e),{},{inputs:(0,a.Z)((0,a.Z)({},e.inputs),{},(0,i.Z)({},n.inputId,{value:n.input.value,isValid:n.input.isValid})),isValid:t});case r.hd.SET:return n.input=n.input,{inputs:n.input.inputs,isValid:n.input.isValid};default:return e}}},8749:function(e,n,t){var i,a,r;t.d(n,{J7:function(){return i},hd:function(){return a}}),function(e){e[e.REQUIRE=0]="REQUIRE",e[e.MINLENGTH=1]="MINLENGTH",e[e.MAXLENGTH=2]="MAXLENGTH",e[e.MIN=3]="MIN",e[e.MAX=4]="MAX",e[e.EMAIL=5]="EMAIL",e[e.FILE=6]="FILE"}(i||(i={})),function(e){e[e.CHNAGE=0]="CHNAGE",e[e.TOUCH=1]="TOUCH",e[e.SET=2]="SET"}(a||(a={})),function(e){e[e.OK=200]="OK",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.No_Content=204]="No_Content",e[e.Bad_Request=400]="Bad_Request",e[e.Unauthorized=401]="Unauthorized",e[e.Not_Found=404]="Not_Found",e[e.Internal_Server_Error=500]="Internal_Server_Error",e[e.Unprocessable_Entity=422]="Unprocessable_Entity"}(r||(r={}))}}]);
//# sourceMappingURL=248.a96707df.chunk.js.map