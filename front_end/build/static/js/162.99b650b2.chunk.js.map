{"version":3,"file":"static/js/162.99b650b2.chunk.js","mappings":"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","sources":["FC/shared/components/UIElements/Card.tsx","FC/stocks/components/StockItem.tsx","FC/stocks/components/StocksList.tsx","FC/stocks/pages/Stocks.tsx"],"sourcesContent":["import React from \"react\";\n\nimport \"./Card.css\";\n\nconst Card = ({\n  className,\n  style,\n  children,\n}: {\n  className?: String;\n  style?: React.CSSProperties;\n  children: JSX.Element | JSX.Element[];\n}) => {\n  return (\n    <div className={`card ${className}`} style={style}>\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useContext, useState } from \"react\";\r\nimport { Button } from \"../../shared/components/FormElements/Button\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport Modal from \"../../shared/components/UIElements/Modal\";\r\nimport { IStock } from \"../../../typing/interfaces\";\r\n\r\nimport \"./StockItem.css\";\r\nimport { AuthContext } from \"../../../hooks/auth-context\";\r\nimport { useHttpClient } from \"../../../hooks/http-hook\";\r\nimport { ErrorModal } from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport { BACKEND_URL, ENDPOINT_STOCKS } from \"../../../util/Constants\";\r\n\r\n/* ************************************************************************************************** */\r\n\r\nexport function StockItem({\r\n  stock,\r\n  onDelete,\r\n}: {\r\n  stock: IStock;\r\n  onDelete: Function;\r\n}) {\r\n  const user = useContext(AuthContext).user;\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [isConfirmVisible, setIsConfirmVisible] = useState(false);\r\n\r\n  /* ************************************************************************************************** */\r\n\r\n  const openConfirmHandler = () => {\r\n    setIsConfirmVisible(true);\r\n  };\r\n\r\n  const closeConfirmHandler = () => {\r\n    setIsConfirmVisible(false);\r\n  };\r\n\r\n  const confirmDeleteHandler = async () => {\r\n    closeConfirmHandler();\r\n\r\n    try {\r\n      await sendRequest(ENDPOINT_STOCKS + \"/\" + stock._id, \"DELETE\", null, {\r\n        Authorization: \"Barer \" + user?.token,\r\n      });\r\n      onDelete(stock._id);\r\n    } catch (err) {}\r\n  };\r\n\r\n  /* ************************************************************************************************** */\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <Modal\r\n        show={isConfirmVisible}\r\n        onCancel={closeConfirmHandler}\r\n        header=\"Are you sure?\"\r\n        footerClass=\"stock-item__modal-actions\"\r\n        footer={\r\n          <React.Fragment>\r\n            <Button inverse onClick={closeConfirmHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        <p>Do you want to proceed and delete this!</p>\r\n      </Modal>\r\n      <li className=\"stock-item\">\r\n        <Card className={\"stock-item__content\"}>\r\n          {isLoading ? <LoadingSpinner asOverlay /> : <></>}\r\n          <div className=\"stock-item__image\">\r\n            <img\r\n              src={BACKEND_URL ? BACKEND_URL + stock.image : \"\"}\r\n              alt={stock.name + \"image\"}\r\n            />\r\n          </div>\r\n          <div className=\"stock-item__actions\">\r\n            {user && <Button to={`/stocks/${stock._id}`}>EDIT</Button>}\r\n            {user && user.isAdmin && (\r\n              <Button danger={true} onClick={openConfirmHandler}>\r\n                DELETE\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </li>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import Card from \"../../shared/components/UIElements/Card\";\r\nimport { IStock } from \"../../../typing/interfaces\";\r\nimport { StockItem } from \"./StockItem\";\r\n\r\nimport \"./StocksList.css\";\r\n\r\nimport { Button } from \"../../shared/components/FormElements/Button\";\r\n\r\nexport function StocksList({\r\n  stocks,\r\n  onDeletestock,\r\n}: {\r\n  stocks: IStock[];\r\n  onDeletestock: Function;\r\n}) {\r\n  if (stocks.length === 0) {\r\n    return (\r\n      <div className=\"stock-list center\">\r\n        <Card>\r\n          <h2>No stocks found. Maybe create one?</h2>\r\n          <Button to=\"/stocks/new\">Add STOCK</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"stock-list\">\r\n      {stocks.map((curr) => (\r\n        <StockItem\r\n          key={curr._id!.toString()}\r\n          stock={curr}\r\n          onDelete={onDeletestock}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHttpClient } from \"../../../hooks/http-hook\";\r\nimport { IStock } from \"../../../typing/interfaces\";\r\nimport { ENDPOINT_STOCKS } from \"../../../util/Constants\";\r\nimport { ErrorModal } from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport { StocksList } from \"../components/StocksList\";\r\n\r\nfunction Stocks() {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [stocks, setStocks] = useState<IStock[]>([]);\r\n  const userId = useParams().userId;\r\n\r\n  useEffect(() => {\r\n    const fetchStocks = async () => {\r\n      try {\r\n        const res = await sendRequest(ENDPOINT_STOCKS);\r\n\r\n        setStocks(res.stocks);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchStocks();\r\n  }, [sendRequest, userId]);\r\n\r\n  const stockDeletedHandler = (deletedstockId: string) => {\r\n    setStocks((prevstocks) =>\r\n      prevstocks.filter((p) => p._id !== deletedstockId)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && (\r\n        <div className=\"center\">\r\n          <LoadingSpinner asOverlay />\r\n        </div>\r\n      )}\r\n      <StocksList stocks={stocks} onDeletestock={stockDeletedHandler} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Stocks;\r\n"],"names":["className","style","children","StockItem","stock","onDelete","user","useContext","AuthContext","useHttpClient","isLoading","error","sendRequest","clearError","useState","isConfirmVisible","setIsConfirmVisible","closeConfirmHandler","confirmDeleteHandler","ENDPOINT_STOCKS","_id","Authorization","token","ErrorModal","onClear","Modal","show","onCancel","header","footerClass","footer","Button","inverse","onClick","danger","Card","LoadingSpinner","asOverlay","src","BACKEND_URL","image","alt","name","to","isAdmin","StocksList","stocks","onDeletestock","length","map","curr","toString","setStocks","userId","useParams","useEffect","fetchStocks","res","deletedstockId","prevstocks","filter","p"],"sourceRoot":""}