"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[162],{361:function(e,n,r){r.d(n,{Z:function(){return s}});r(2791);var t=r(184),s=function(e){var n=e.className,r=e.style,s=e.children;return(0,t.jsx)("div",{className:"card ".concat(n),style:r,children:s})}},4171:function(e,n,r){r.r(n),r.d(n,{default:function(){return p}});var t=r(4165),s=r(5861),c=r(9439),o=r(2791),a=r(7689),i=r(8618),l=r(7594),u=r(5309),d=r(9805),x=r(361),f=r(4267),h=r(3234),k=r(4707),v=r(184);function j(e){var n=e.stock,r=e.onDelete,a=(0,o.useContext)(k.V).user,j=(0,i.x)(),m=j.isLoading,p=j.error,C=j.sendRequest,_=j.clearError,g=(0,o.useState)(!1),E=(0,c.Z)(g,2),Z=E[0],N=E[1],w=function(){N(!1)},y=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(),e.prev=1,e.next=4,C(l.vC+"/"+n._id,"DELETE",null,{Authorization:"Barer "+(null===a||void 0===a?void 0:a.token)});case 4:r(n._id),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(u.C,{error:p,onClear:_}),(0,v.jsx)(h.Z,{show:Z,onCancel:w,header:"Are you sure?",footerClass:"stock-item__modal-actions",footer:(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(f.z,{inverse:!0,onClick:w,children:"CANCEL"}),(0,v.jsx)(f.z,{danger:!0,onClick:y,children:"DELETE"})]}),children:(0,v.jsx)("p",{children:"Do you want to proceed and delete this!"})}),(0,v.jsx)("li",{className:"stock-item",children:(0,v.jsxs)(x.Z,{className:"stock-item__content",children:[m?(0,v.jsx)(d.Z,{asOverlay:!0}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)("div",{className:"stock-item__image",children:(0,v.jsx)("img",{src:l.z0?l.z0+n.image:"",alt:n.name+"image"})}),(0,v.jsxs)("div",{className:"stock-item__actions",children:[a&&(0,v.jsx)(f.z,{to:"/stocks/".concat(n._id),children:"EDIT"}),a&&a.isAdmin&&(0,v.jsx)(f.z,{danger:!0,onClick:function(){N(!0)},children:"DELETE"})]})]})})]})}function m(e){var n=e.stocks,r=e.onDeletestock;return 0===n.length?(0,v.jsx)("div",{className:"stock-list center",children:(0,v.jsxs)(x.Z,{children:[(0,v.jsx)("h2",{children:"No stocks found. Maybe create one?"}),(0,v.jsx)(f.z,{to:"/stocks/new",children:"Add STOCK"})]})}):(0,v.jsx)("ul",{className:"stock-list",children:n.map((function(e){return(0,v.jsx)(j,{stock:e,onDelete:r},e._id.toString())}))})}var p=function(){var e=(0,i.x)(),n=e.isLoading,r=e.error,x=e.sendRequest,f=e.clearError,h=(0,o.useState)([]),k=(0,c.Z)(h,2),j=k[0],p=k[1],C=(0,a.UO)().userId;return(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(l.vC);case 3:n=e.sent,p(n.stocks),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[x,C]),(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(u.C,{error:r,onClear:f}),n&&(0,v.jsx)("div",{className:"center",children:(0,v.jsx)(d.Z,{asOverlay:!0})}),(0,v.jsx)(m,{stocks:j,onDeletestock:function(e){p((function(n){return n.filter((function(n){return n._id!==e}))}))}})]})}}}]);
//# sourceMappingURL=162.99b650b2.chunk.js.map